{"ast":null,"code":"var _jsxFileName = \"/Users/viniciusoliveira/Documents/developer/workspace/ws-technite/project-plataforma-ead/presper-daher/src/componentes/Modals/CreateCourseModal.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport { Modal, Button, Form, Row, Alert } from \"react-bootstrap\";\nimport ResultCreateCourseModal from \"./ResultCreateCourseModal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\").default;\n\nfunction CreateCourseModal(props) {\n  _s();\n\n  const [resultCreateCourseModalShow, setResultCreateCourseModalShow] = useState(false);\n  const [image, setImage] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [videos, setVideos] = useState([]);\n  const [videosErrors, setVideosErrors] = useState([]);\n  const [videosList, setVideosList] = useState([]);\n  const [course, setCourse] = useState({});\n  useEffect(() => {}, []);\n\n  async function handleSubmit() {\n    const data = {\n      id: Math.floor(Math.random() * 100),\n      img: image,\n      title: title,\n      author: author,\n      price: price,\n      category: category,\n      description: description,\n      videos: videosList\n    };\n\n    try {\n      const url = \"https://fake-api-json-server-presper.herokuapp.com/cursos\";\n      axios.post(url, data).then(res => {\n        console.log(res);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n\n    setCourse(data);\n    setResultCreateCourseModalShow(true);\n    setVideosErrors([]);\n  }\n\n  function handleAddVideos(data) {\n    let errors = [];\n    let files = [];\n\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].type === \"video/mp4\") files.push(data[i]);else errors.push(data[i]);\n    } //* Apenas para development\n\n\n    let videos = [];\n    files.map(el => {\n      return videos.push(el.name);\n    }); //* Apenas para development\n    // setVideosList(files);\n\n    setVideosList(videos);\n    setVideosErrors(errors);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, { ...props,\n      centered: true,\n      animation: false,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        onClick: () => {\n          setVideosErrors();\n          setVideosList();\n        },\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Adicionar curso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        action: \"submit\",\n        onSubmit: () => {\n          handleSubmit();\n          props.onHide();\n          setVideosList();\n        },\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"T\\xEDtulo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"T\\xEDtulo\",\n              onChange: e => setTitle(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"Categoria\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Categoria\",\n              onChange: e => setCategory(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"Autor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"Autor\",\n              onChange: e => setAuthor(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"Pre\\xE7o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"float\",\n              min: 0.0,\n              placeholder: \"R$ 99.99\",\n              onChange: e => setPrice(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 129,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"exampleForm.ControlTextarea1\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"Descri\\xE7\\xE3o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              rows: 3,\n              placeholder: \"Descri\\xE7\\xE3o\",\n              onChange: e => setDescription(e.target.value),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            as: Row,\n            className: \"mb-3\",\n            controlId: \"formPlaintextEmail\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"2\",\n              children: \"Imagem\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n              controlId: \"formFile\",\n              className: \"mb-3\",\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"file\",\n                required: true,\n                onChange: e => setImage(e.target.file)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"formFileMultiple\",\n            className: \"mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              sm: \"4\",\n              children: \"Adicionar v\\xEDdeo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"file\",\n              multiple: true,\n              required: true,\n              onChange: e => {\n                handleAddVideos(e.target.files);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            className: \"mb-3\",\n            controlId: \"formBasicCheckbox\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"V\\xEDdeos selecionados:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this), (videosList === null || videosList === void 0 ? void 0 : videosList.length) > 0 ? videosList.map((video, id) => {\n              return /*#__PURE__*/_jsxDEV(Form.Check, {\n                type: \"checkbox\",\n                label: video.name,\n                checked: true,\n                onChange: () => console.log(video.name)\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 23\n              }, this);\n            }) : \"\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), (videosErrors === null || videosErrors === void 0 ? void 0 : videosErrors.length) ? /*#__PURE__*/_jsxDEV(Alert, {\n            variant: \"danger\",\n            children: [\"Os seguintes arquivos n\\xE3o puderam ser carregados pois n\\xE3o possuem a extens\\xE3o \", /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"mp4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 36\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              children: videosErrors.map((val, id) => {\n                return /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: val.name\n                }, id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 210,\n                  columnNumber: 28\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this) : \"\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              border: \"none\",\n              boxShadow: \"0px 3px 14px -8px rgba(98,63,101,0.53)\"\n            },\n            variant: \"danger\",\n            onClick: () => {\n              props.onHide();\n              setVideosErrors([]);\n              setVideosList();\n            },\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              backgroundColor: \"#14B8A6\",\n              border: \"none\",\n              boxShadow: \"0px 3px 14px -8px rgba(98,63,101,0.53)\"\n            },\n            type: \"submit\",\n            children: \"Adicionar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ResultCreateCourseModal, {\n      show: resultCreateCourseModalShow,\n      onHide: () => setResultCreateCourseModalShow(false),\n      course: course,\n      result: \"okay\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(CreateCourseModal, \"Ie2kfB0vUxO9oI1WJ0hP72gDSbQ=\");\n\n_c = CreateCourseModal;\nexport default CreateCourseModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateCourseModal\");","map":{"version":3,"sources":["/Users/viniciusoliveira/Documents/developer/workspace/ws-technite/project-plataforma-ead/presper-daher/src/componentes/Modals/CreateCourseModal.jsx"],"names":["useState","useEffect","Modal","Button","Form","Row","Alert","ResultCreateCourseModal","axios","require","default","CreateCourseModal","props","resultCreateCourseModalShow","setResultCreateCourseModalShow","image","setImage","title","setTitle","author","setAuthor","price","setPrice","category","setCategory","description","setDescription","videos","setVideos","videosErrors","setVideosErrors","videosList","setVideosList","course","setCourse","handleSubmit","data","id","Math","floor","random","img","url","post","then","res","console","log","error","handleAddVideos","errors","files","i","length","type","push","map","el","name","onHide","e","target","value","file","video","val","border","boxShadow","backgroundColor"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { Modal, Button, Form, Row, Alert } from \"react-bootstrap\";\nimport ResultCreateCourseModal from \"./ResultCreateCourseModal\";\n\nconst axios = require(\"axios\").default;\n\nfunction CreateCourseModal(props) {\n  const [resultCreateCourseModalShow, setResultCreateCourseModalShow] =\n    useState(false);\n\n  const [image, setImage] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [videos, setVideos] = useState([]);\n  const [videosErrors, setVideosErrors] = useState([]);\n\n  const [videosList, setVideosList] = useState([]);\n\n  const [course, setCourse] = useState({});\n\n  useEffect(() => {}, []);\n\n  async function handleSubmit() {\n    const data = {\n      id: Math.floor(Math.random() * 100),\n      img: image,\n      title: title,\n      author: author,\n      price: price,\n      category: category,\n      description: description,\n      videos: videosList,\n    };\n\n    try {\n      const url = \"https://fake-api-json-server-presper.herokuapp.com/cursos\";\n      axios.post(url, data).then((res) => {\n        console.log(res);\n      });\n    } catch (error) {\n      console.error(error);\n    }\n    setCourse(data);\n    setResultCreateCourseModalShow(true);\n    setVideosErrors([]);\n  }\n\n  function handleAddVideos(data) {\n    let errors = [];\n    let files = [];\n    for (let i = 0; i < data.length; i++) {\n      if (data[i].type === \"video/mp4\") files.push(data[i]);\n      else errors.push(data[i]);\n    }\n\n    //* Apenas para development\n    let videos = [];\n    files.map((el) => {\n      return videos.push(el.name);\n    });\n    //* Apenas para development\n\n    // setVideosList(files);\n    setVideosList(videos);\n    setVideosErrors(errors);\n  }\n\n  return (\n    <>\n      <Modal {...props} centered animation={false}>\n        <Modal.Header\n          closeButton\n          onClick={() => {\n            setVideosErrors();\n            setVideosList();\n          }}\n        >\n          <Modal.Title>Adicionar curso</Modal.Title>\n        </Modal.Header>\n        <Form\n          action=\"submit\"\n          onSubmit={() => {\n            handleSubmit();\n            props.onHide();\n            setVideosList();\n          }}\n        >\n          <Modal.Body>\n            <Form.Group className=\"mb-3\">\n              <Form.Label column sm=\"2\">\n                Título\n              </Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Título\"\n                onChange={(e) => setTitle(e.target.value)}\n                required\n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label column sm=\"2\">\n                Categoria\n              </Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Categoria\"\n                onChange={(e) => setCategory(e.target.value)}\n                required\n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label column sm=\"2\">\n                Autor\n              </Form.Label>\n              <Form.Control\n                type=\"text\"\n                placeholder=\"Autor\"\n                onChange={(e) => setAuthor(e.target.value)}\n                required\n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\">\n              <Form.Label column sm=\"2\">\n                Preço\n              </Form.Label>\n              <Form.Control\n                type=\"float\"\n                min={0.0}\n                placeholder=\"R$ 99.99\"\n                onChange={(e) => setPrice(e.target.value)}\n                required\n              />\n            </Form.Group>\n            <Form.Group\n              className=\"mb-3\"\n              controlId=\"exampleForm.ControlTextarea1\"\n            >\n              <Form.Label column sm=\"2\">\n                Descrição\n              </Form.Label>\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                placeholder=\"Descrição\"\n                onChange={(e) => setDescription(e.target.value)}\n                required\n              />\n            </Form.Group>\n            <Form.Group\n              as={Row}\n              className=\"mb-3\"\n              controlId=\"formPlaintextEmail\"\n            >\n              <Form.Label column sm=\"2\">\n                Imagem\n              </Form.Label>\n              {/* <Col sm=\"10\">\n                <Form.Control plaintext readOnly />\n              </Col> */}\n              <Form.Group controlId=\"formFile\" className=\"mb-3\">\n                <Form.Control\n                  type=\"file\"\n                  required\n                  onChange={(e) => setImage(e.target.file)}\n                />\n              </Form.Group>\n            </Form.Group>\n\n            <Form.Group controlId=\"formFileMultiple\" className=\"mb-3\">\n              <Form.Label column sm=\"4\">\n                Adicionar vídeo\n              </Form.Label>\n              <Form.Control\n                type=\"file\"\n                multiple\n                required\n                onChange={(e) => {\n                  handleAddVideos(e.target.files);\n                }}\n              />\n            </Form.Group>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicCheckbox\">\n              <Form.Label>Vídeos selecionados:</Form.Label>\n\n              {videosList?.length > 0\n                ? videosList.map((video, id) => {\n                    return (\n                      <Form.Check\n                        type=\"checkbox\"\n                        label={video.name}\n                        key={id}\n                        checked\n                        onChange={() => console.log(video.name)}\n                      />\n                    );\n                  })\n                : \"\"}\n            </Form.Group>\n            {videosErrors?.length ? (\n              <Alert variant=\"danger\">\n                Os seguintes arquivos não puderam ser carregados pois não\n                possuem a extensão <strong>mp4</strong>\n                <br />\n                <br />\n                <ul>\n                  {videosErrors.map((val, id) => {\n                    return <li key={id}>{val.name}</li>;\n                  })}\n                </ul>\n              </Alert>\n            ) : (\n              \"\"\n            )}\n          </Modal.Body>\n\n          <Modal.Footer>\n            <Button\n              style={{\n                border: \"none\",\n                boxShadow: \"0px 3px 14px -8px rgba(98,63,101,0.53)\",\n              }}\n              variant=\"danger\"\n              onClick={() => {\n                props.onHide();\n                setVideosErrors([]);\n                setVideosList();\n              }}\n            >\n              Cancelar\n            </Button>\n\n            <Button\n              style={{\n                backgroundColor: \"#14B8A6\",\n                border: \"none\",\n                boxShadow: \"0px 3px 14px -8px rgba(98,63,101,0.53)\",\n              }}\n              type=\"submit\"\n            >\n              Adicionar\n            </Button>\n          </Modal.Footer>\n        </Form>\n      </Modal>\n      <ResultCreateCourseModal\n        show={resultCreateCourseModalShow}\n        onHide={() => setResultCreateCourseModalShow(false)}\n        course={course}\n        result={\"okay\"}\n      />\n    </>\n  );\n}\n\nexport default CreateCourseModal;\n"]},"metadata":{},"sourceType":"module"}